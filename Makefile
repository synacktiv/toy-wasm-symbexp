.PHONY: test clean part1-smt part2-smt part1-custom

data:
	mkdir data

# visit https://forumcrack.github.io to enjoy the whole challenge!
data/keygenme.wasm: data
	wget -O $@ https://forumcrack.github.io/keygenme.wasm && touch $@

part1-custom: data/keygenme.wasm
	time stack run -- --mode Symbolic $< 'username' '??????????????????????????' --expected 1 

part1-smt: data/keygenme.wasm
	time stack run -- --mode SMT $< 'username' '??????????????????????????' --expected 1 

part2-smt: data/keygenme.wasm
	time stack run -- --mode SMT $< 'username' '??????????????????' --expected 2 

test:
	stack test
